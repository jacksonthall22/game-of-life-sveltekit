import{s as he,o as ee,d as A,n as te,r as re}from"../chunks/scheduler.65fd200e.js";import{S as ue,i as de,d as V,F as z,v as ge,j as I,s as j,o as ne,E as me,k as D,g as b,c as N,l as S,z as _e,p as se,m as g,A as k,a as L,G as le,D as W,q as ve,H as fe,I as we}from"../chunks/index.fbfcf942.js";import{g as ye}from"../chunks/globals.7f7f1b26.js";import{H as ke}from"../chunks/Header.73be0727.js";function ae(n,e){const{width:l,height:a}=n.canvas,i=n.getImageData(0,0,l,a);for(let h=0;h<i.data.length;h+=4){const r=h/4,s=r%l,c=r/l>>>0,o=64+128*s/l+64*Math.sin(e/1e3),u=64+128*c/a+64*Math.cos(e/1e3),v=128;i.data[h+0]=o,i.data[h+1]=u,i.data[h+2]=v,i.data[h+3]=255}n.putImageData(i,0,0)}const{console:be,document:x}=ye,G="C:/Users/jacks/OneDrive/Documents/Code/svelt-testing/src/routes/life/+page.svelte";function ie(n,e,l){const a=n.slice();return a[18]=e[l],a[20]=l,a}function oe(n,e,l){const a=n.slice();return a[21]=e[l],a[23]=l,a}function Y(n){let e,l,a;function i(){return n[12](n[20],n[23])}const h={c:function(){e=I("button"),this.h()},l:function(s){e=D(s,"BUTTON",{id:!0,class:!0,style:!0}),S(e).forEach(b),this.h()},h:function(){g(e,"id","tile-"+n[23]+"-"+n[20]),g(e,"class","tile s-smlXKqKF-Gz_"),g(e,"style",`width: ${n[6]}px; height: ${n[5]}px`),A(e,G,151,10,3717)},m:function(s,c){L(s,e,c),l||(a=[W(e,"click",i,!1,!1,!1,!1),W(e,"keydown",n[9],!1,!1,!1,!1)],l=!0)},p:function(s,c){n=s},d:function(s){s&&b(e),l=!1,re(a)}};return V("SvelteRegisterBlock",{block:h,id:Y.name,type:"each",source:"(109:8) {#each row as cell, j}",ctx:n}),h}function J(n){let e,l,a=z(n[18]),i=[];for(let r=0;r<a.length;r+=1)i[r]=Y(oe(n,a,r));const h={c:function(){e=I("div");for(let s=0;s<i.length;s+=1)i[s].c();l=j(),this.h()},l:function(s){e=D(s,"DIV",{class:!0});var c=S(e);for(let o=0;o<i.length;o+=1)i[o].l(c);l=N(c),c.forEach(b),this.h()},h:function(){g(e,"class","tile-row s-smlXKqKF-Gz_"),A(e,G,149,6,3651)},m:function(s,c){L(s,e,c);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);k(e,l)},p:function(s,c){if(c&866){a=z(s[18]);let o;for(o=0;o<a.length;o+=1){const u=oe(s,a,o);i[o]?i[o].p(u,c):(i[o]=Y(u),i[o].c(),i[o].m(e,l))}for(;o<i.length;o+=1)i[o].d(1);i.length=a.length}},d:function(s){s&&b(e),fe(i,s)}};return V("SvelteRegisterBlock",{block:h,id:J.name,type:"each",source:"(107:4) {#each grid as row, i}",ctx:n}),h}function Q(n){let e,l,a,i,h="Conway's Game of Life",r,s,c,o,u,v,p,w,_,H,y,F,K,q=z(n[1]),m=[];for(let E=0;E<q.length;E+=1)m[E]=J(ie(n,q,E));const B={c:function(){e=I("meta"),l=j(),a=I("div"),i=I("h1"),i.textContent=h,r=j(),s=I("div"),c=I("input"),o=j(),u=I("label"),v=ne(n[0]),p=ne("%"),w=j(),_=I("canvas"),H=j(),y=I("div");for(let d=0;d<m.length;d+=1)m[d].c();this.h()},l:function(d){const t=me("svelte-4s2lt3",x.head);e=D(t,"META",{name:!0,content:!0}),t.forEach(b),l=N(d),a=D(d,"DIV",{});var f=S(a);i=D(f,"H1",{"data-svelte-h":!0}),_e(i)!=="svelte-10rwk6u"&&(i.textContent=h),r=N(f),s=D(f,"DIV",{class:!0});var C=S(s);c=D(C,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),o=N(C),u=D(C,"LABEL",{class:!0});var R=S(u);v=se(R,n[0]),p=se(R,"%"),R.forEach(b),C.forEach(b),w=N(f),_=D(f,"CANVAS",{width:!0,height:!0,style:!0,class:!0}),S(_).forEach(b),H=N(f),y=D(f,"DIV",{id:!0,class:!0});var U=S(y);for(let T=0;T<m.length;T+=1)m[T].l(U);U.forEach(b),f.forEach(b),this.h()},h:function(){x.title="Game of Life",g(e,"name","description"),g(e,"content","Conway's Game of Life"),A(e,G,2,2,48),A(i,G,125,2,3064),g(c,"type","range"),g(c,"min","0"),g(c,"max","100"),g(c,"step","5"),g(c,"class","grow s-smlXKqKF-Gz_"),A(c,G,128,4,3185),g(u,"class","font-sans grow-0"),A(u,G,138,4,3436),g(s,"class","flex flex-row gap-5 align-center justify-between max-w-md mx-auto"),A(s,G,127,2,3100),g(_,"width",n[4]),g(_,"height",n[3]),g(_,"style",n[2]),g(_,"class","s-smlXKqKF-Gz_"),A(_,G,141,2,3506),g(y,"id","tiles"),g(y,"class","s-smlXKqKF-Gz_"),A(y,G,147,2,3599),A(a,G,124,0,3055)},m:function(d,t){k(x.head,e),L(d,l,t),L(d,a,t),k(a,i),k(a,r),k(a,s),k(s,c),le(c,n[0]),k(s,o),k(s,u),k(u,v),k(u,p),k(a,w),k(a,_),k(a,H),k(a,y);for(let f=0;f<m.length;f+=1)m[f]&&m[f].m(y,null);F||(K=[W(c,"change",n[10]),W(c,"input",n[10]),W(c,"change",n[11],!1,!1,!1,!1)],F=!0)},p:function(d,[t]){if(t&1&&le(c,d[0]),t&1&&ve(v,d[0]),t&4&&g(_,"style",d[2]),t&866){q=z(d[1]);let f;for(f=0;f<q.length;f+=1){const C=ie(d,q,f);m[f]?m[f].p(C,t):(m[f]=J(C),m[f].c(),m[f].m(y,null))}for(;f<m.length;f+=1)m[f].d(1);m.length=q.length}},i:te,o:te,d:function(d){d&&(b(l),b(a)),b(e),fe(m,d),F=!1,re(K)}};return V("SvelteRegisterBlock",{block:B,id:Q.name,type:"component",source:"",ctx:n}),B}function ce(n,e,l,a,i){const h=n.length,r=n[0].length,s=r*e,c=h*l;let o=`<svg width="${s}" height="${c}" xmlns="http://www.w3.org/2000/svg">`;o+=`<rect width="${s}" height="${c}" fill="${i}" />`;for(let u=0;u<h;u++)for(let v=0;v<r;v++){const p=v*e,w=u*l,_=n[u][v];o+=`<rect x="${p}" y="${w}" width="${e}" height="${l}" fill="${_?a:"transparent"}" stroke="#000" stroke-width="1" />`}return o+="</svg>",o}function pe(n,e,l){let{$$slots:a={},$$scope:i}=e;ge("Page",a,[]);let h=16,r=16,s=256,c=256,o=s/r,u=c/h;const v=t=>()=>Math.random()*100<t;let p=10,w;function _(){l(1,w=Array.from({length:r},()=>Array.from({length:h},v(p))))}_();let H,y,F;function K(){F=ce(w,u,o,"white","transparent"),H=`url('data:image/svg+xml;base64,${window.btoa(F)}')`,l(2,y=`mask: ${H} 50% 50% no-repeat; -webkit-mask: ${H} 50% 50% no-repeat`)}function q(t){const C=document.activeElement.id,[R,U,T]=C.split("-"),X=parseInt(U),M=parseInt(T);let O=X,P=M;t.key==="ArrowUp"?P=(M-1+r)%r:t.key==="ArrowDown"?P=(M+1)%r:t.key==="ArrowLeft"?O=(X-1+h)%h:t.key==="ArrowRight"&&(O=(X+1)%h);const Z=`tile-${O}-${P}`,$=document.getElementById(Z);if(!$){console.log(`Failed to find element for tile ${Z}`);return}$.focus()}ee(()=>{const f=document.querySelector("canvas").getContext("2d",{willReadFrequently:!0});K(),requestAnimationFrame(function C(R){requestAnimationFrame(C),ae(f,R)})});const m=[];Object.keys(e).forEach(t=>{!~m.indexOf(t)&&t.slice(0,2)!=="$$"&&t!=="slot"&&be.warn(`<Page> was created with unknown prop '${t}'`)});function B(){p=we(this.value),l(0,p)}const E=()=>{_(),K()},d=(t,f)=>{l(1,w[t][f]=!w[t][f],w),K()};return n.$capture_state=()=>({paint:ae,onMount:ee,Header:ke,tilesWide:h,tilesHigh:r,svgHeight:s,svgWidth:c,tileHeight:o,tileWidth:u,getRandomBoolean:v,percentTrue:p,grid:w,setGrid:_,svgUrl:H,svgCss:y,svg:F,updateSvg:K,generateSVGFromGrid:ce,handleKeydown:q}),n.$inject_state=t=>{"tilesWide"in t&&(h=t.tilesWide),"tilesHigh"in t&&(r=t.tilesHigh),"svgHeight"in t&&l(3,s=t.svgHeight),"svgWidth"in t&&l(4,c=t.svgWidth),"tileHeight"in t&&l(5,o=t.tileHeight),"tileWidth"in t&&l(6,u=t.tileWidth),"percentTrue"in t&&l(0,p=t.percentTrue),"grid"in t&&l(1,w=t.grid),"svgUrl"in t&&(H=t.svgUrl),"svgCss"in t&&l(2,y=t.svgCss),"svg"in t&&(F=t.svg)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[p,w,y,s,c,o,u,_,K,q,B,E,d]}class De extends ue{constructor(e){super(e),de(this,e,pe,Q,he,{}),V("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Q.name})}}export{De as component};
